<script>
    var ClaimantAPIBehavior = {
        properties: {
            _endpoint: {
                value: 'https://blockchain-insurance.eu-gb.mybluemix.net',
            },
        },
        _claimantApi: function (){
            let _endpoint = this._endpoint;
            return {
                login: function (username, password) {
                    let headers = new Headers();
                    headers.append("Content-Type", "application/json");
                    return fetch(_endpoint + '/auth',{
                        method: 'POST',
                        headers: headers,
                        body: JSON.stringify({
                            username: username,
                            password: password
                        })
                    }).then(response => {
                        console.log(response);
                        return response.headers.get('Token');
                    });
                }
            }
        }
    }
</script>